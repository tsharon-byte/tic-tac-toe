{"version":3,"sources":["index.js"],"names":["defaultState","currentPlayer","buttonsList","Array","fill","gameFinished","GameField","onClick","this","props","value","id","className","text","React","PureComponent","convertText","O","X","Board","App","state","Object","assign","handleClick","bind","handleClearClick","setState","event","alert","target","buttons","slice","currentIx","mas","includes","a","b","c","finished","indexes","checkGameFinished","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56d1ac74.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nlet defaultState = {\n    currentPlayer: \"X\",\n    buttonsList: Array(9).fill(null),\n    gameFinished: false\n};\n\nclass GameField extends React.PureComponent {\n    render() {\n        return (<button onClick={this.props.onClick} value={this.props.id}\n                        className=\"GameField\">{this.props.text}</button>);\n    }\n}\n\nfunction ClearGame(props) {\n    return <div>\n        <button onClick={props.onClick} className={props.className}>{props.text}</button>\n    </div>\n}\n\nfunction convertText(text) {\n    const O = <span className=\"O\"><i className=\"far fa-circle\"></i></span>;\n    const X = <span className=\"X\"><i className=\"fas fa-times\"></i></span>;\n    switch (text) {\n        case 'X':\n            return X;\n        case 'O':\n            return O;\n        default:\n            return text;\n    }\n}\n\nclass Board extends React.PureComponent {\n    render() {\n        return (\n            <div className=\"board\">\n                <table>\n                    <tbody>\n                    <tr>\n                        <td><GameField text={convertText(this.props.buttonsList[0])} id={0}\n                                       onClick={this.props.onClick}/></td>\n                        <td><GameField text={convertText(this.props.buttonsList[1])} id={1}\n                                       onClick={this.props.onClick}/></td>\n                        <td><GameField text={convertText(this.props.buttonsList[2])} id={2}\n                                       onClick={this.props.onClick}/></td>\n                    </tr>\n                    <tr>\n                        <td><GameField text={convertText(this.props.buttonsList[3])} id={3}\n                                       onClick={this.props.onClick}/></td>\n                        <td><GameField text={convertText(this.props.buttonsList[4])} id={4}\n                                       onClick={this.props.onClick}/></td>\n                        <td><GameField text={convertText(this.props.buttonsList[5])} id={5}\n                                       onClick={this.props.onClick}/></td>\n                    </tr>\n                    <tr>\n                        <td><GameField text={convertText(this.props.buttonsList[6])} id={6}\n                                       onClick={this.props.onClick}/></td>\n                        <td><GameField text={convertText(this.props.buttonsList[7])} id={7}\n                                       onClick={this.props.onClick}/></td>\n                        <td><GameField text={convertText(this.props.buttonsList[8])} id={8}\n                                       onClick={this.props.onClick}/></td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nfunction checkGameFinished(currentIx, buttonsList) {\n    let winner = [\n        [0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8],\n        [0, 3, 6],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6]\n    ];\n    for (let mas of winner) {\n        if (mas.includes(+currentIx)) {\n            let [a, b, c] = mas;\n            if (buttonsList[a] === buttonsList[b] && buttonsList[b] === buttonsList[c])\n                return {finished: true, indexes: mas};\n        }\n    }\n    return {finished: false};\n}\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = Object.assign({}, defaultState);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleClearClick = this.handleClearClick.bind(this);\n    }\n\n    handleClearClick() {\n        this.setState(defaultState);\n    }\n\n    handleClick(event) {\n        let currentPlayer = (this.state.currentPlayer === \"X\" ? \"O\" : \"X\");\n        if (this.state.gameFinished) {\n            alert(\"Игра окончена.  Победитель: \" + currentPlayer);\n            return;\n        }\n        if (this.state.buttonsList[event.target.value] != null) {\n            return;\n        }\n        let buttons = this.state.buttonsList.slice();\n        buttons[event.target.value] = this.state.currentPlayer;\n        let gameFinished = checkGameFinished(event.target.value, buttons);\n        this.setState({\n            currentPlayer: currentPlayer,\n            buttonsList: buttons,\n            gameFinished: gameFinished.finished\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>Крестики-нолики</h1>\n                <Board buttonsList={this.state.buttonsList} onClick={this.handleClick}/>\n                <label className={this.state.gameFinished?\"Winner\":\"Common\"}>\n                    {this.state.gameFinished ? (\"Игра окончена.  Победитель: \" + (this.state.currentPlayer === \"X\" ? \"O\" : \"X\")) : (\"Ваш шаг, игрок \" + this.state.currentPlayer)}\n                </label>\n                {/*<ClearGame onClick={this.handleClearClick()} text=\"Начать игру\"*/}\n                {/*           className={this.state.gameFinished ? \"StartNewGame\" : \"GameOngoing\"}/>*/}\n            </div>\n        );\n    }\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}